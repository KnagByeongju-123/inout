<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>바코드 품번 & 수량 입력</title>
  <style>
    input {
      font-size: 16px;
      padding: 5px;
      width: 150px;
      margin-right: 10px;
    }
    .row {
      margin-bottom: 10px;
    }
  </style>
</head>
<body>
  <h2>바코드 입력 (품번 & 수량)</h2>

  <form id="barcodeForm">
    <!-- 10줄 반복 생성 -->
    <div id="inputRows">
      <!-- JavaScript에서 생성됩니다 -->
    </div>
  </form>

  <script>
    const rowCount = 10;
    const inputRows = document.getElementById("inputRows");

    for (let i = 0; i < rowCount; i++) {
      const row = document.createElement("div");
      row.className = "row";

      const codeInput = document.createElement("input");
      codeInput.type = "text";
      codeInput.placeholder = `품번 ${i + 1}`;
      codeInput.id = `code-${i}`;
      codeInput.dataset.row = i;
      codeInput.classList.add("code");

      const qtyInput = document.createElement("input");
      qtyInput.type = "text";
      qtyInput.placeholder = `수량 ${i + 1}`;
      qtyInput.id = `qty-${i}`;
      qtyInput.dataset.row = i;
      qtyInput.classList.add("qty");

      row.appendChild(codeInput);
      row.appendChild(qtyInput);
      inputRows.appendChild(row);
    }

    // 포커스 흐름 제어
    document.querySelectorAll(".code").forEach(codeInput => {
      codeInput.addEventListener("change", (e) => {
        const row = parseInt(e.target.dataset.row);
        const qtyInput = document.getElementById(`qty-${row}`);
        qtyInput.focus();
      });
    });

    document.querySelectorAll(".qty").forEach(qtyInput => {
      qtyInput.addEventListener("change", (e) => {
        const row = parseInt(e.target.dataset.row);
        const nextCodeInput = document.getElementById(`code-${row + 1}`);
        if (nextCodeInput) {
          nextCodeInput.focus();
        }
      });
    });

    // 첫 입력칸 자동 포커스
    document.getElementById("code-0").focus();
  </script>
</body>
</html>
